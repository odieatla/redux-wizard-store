/*------------------------------------*\
    #PageSubNavigation
\*------------------------------------*/

.comPageSubNavigation,
%comPageSubNavigation {
  position: relative;
  z-index: 3;
  color: $com-page-subnav-font-color;
}

  .comPageSubNavigation__content {
    margin: 0 auto;
    padding-top: 12px;
    padding-bottom: 0;
  }

  .comPageSubNavigation__border {
    border-bottom: 1px solid $com-page-subnav-border-color;
    padding-bottom: 12px;
    margin-right: 3.5%;
    margin-left: 3.5%;

    &:after {
      content: '';
      display: table;
      clear: both;
    }
  }

  .comPageSubNavigation__title {
    font-weight: 700;
    text-transform: uppercase;
    margin-bottom: 0;
    float: left;
    letter-spacing: 0.2em;
  }

  /* ul element */
  .comPageSubNavigation__listItems {
    float: right;
    list-style: none;
    margin: 0;
    padding: 0;
    display: none;
    line-height: 24px;

    @include respondTo(medium-up) {
      display: inline-block;
    }
  }

  /* select element */
  .comPageSubNavigation__selectItems {
    margin-top: 24px;
    margin-bottom: 0;

    @include respondTo(medium-up) {
      display: none;
    }
  }

  .comPageSubNavigation__item {
    float: left;
    margin-right: 24px;
    @include fontSmoothing(antialiased);

    &:last-child {
      margin-right: 0;
    }
  }

  .comPageSubNavigation__link {
    color: $com-page-subnav-link-color;

    &:hover,
    &.is-link-selected {
      color: $com-page-subnav-hover-link-color;
    }
  }

/* Light */
.comPageSubNavigation--light {

  .comPageSubNavigation__title {
    color: $com-page-subnav-light-font-color;
  }

  .comPageSubNavigation__link {
    color: $com-page-subnav-light-link-color;

    &:hover,
    &.is-link-selected {
      color: $com-page-subnav-light-hover-link-color;
    }
  }

  .comPageSubNavigation__border {
    border-bottom: 1px solid $com-page-subnav-light-border-color;
  }
}

/* Dark */
.comPageSubNavigation--dark {

  .comPageSubNavigation__border {
    border-bottom-color: $com-page-subnav-dark-border-color;
  }

  .comPageSubNavigation__selectItems {
    background-color: $com-page-subnav-dark-select-background-color;
    background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iNTEycHgiIGhlaWdodD0iNTEycHgiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwb2x5Z29uIGZpbGw9IiM2QTZBNkEiIHBvaW50cz0iNDg0LjY4OCwxMTkuMDMgMjU2LDM0Ny43MTYgMjcuMzEzLDExOS4wMyA0LjY4NywxNDEuNjU3IDIzMy4zNzMsMzcwLjM0MyAyNTYsMzkyLjk3MSANCgkyNzguNjI3LDM3MC4zNDMgNTA3LjMxMiwxNDEuNjU3ICIvPg0KPC9zdmc+DQo=');
    background-size: 16px 12px;
    border-color: $com-page-subnav-dark-select-border-color;
    color: $com-page-subnav-dark-select-font-color;

    &:hover {
      border-color: $com-page-subnav-dark-select-hover-font-color;
    }
  }

  .comPageSubNavigation__link {
    color: $com-page-subnav-dark-link-color;

    &:hover,
    &.is-link-selected {
      color: $com-page-subnav-dark-hover-link-color;
    }
  }
}


/* Sticky */
.comPageSubNavigation--sticky {
  width: 100%;
  margin: 0;
  padding: 0;
  border: 0 none;

  &.is-stuck {
    position: fixed;
    top: $com-page-subnav-mobile-position-top;
    left: 0;
    z-index: 99;
    color: $com-page-subnav-sticky-font-color;

    @media screen and (min-width: $com-global-header-tablet-nav-breakpoint-lower-bound) {
      top: $com-page-subnav-position-top;
    }

    .comPageSubNavigation__content {
      background-color: $com-page-subnav-sticky-background-color;
      @include box-shadow(inset 0 -1px 0 rgba(0,0,0,.1));
    }

    .comPageSubNavigation__border {
      border-bottom: 0; 
    }

    .comPageSubNavigation__link {
      color: $com-page-subnav-sticky-link-color;

      &:hover,
      &.is-link-selected {
        color: $com-page-subnav-sticky-hover-link-color;
      }
    }

    @media screen and (max-width: $com-global-header-tablet-nav-breakpoint-lower-bound) {
      top: 48px;
    }

    // for mobile only, when sub-nav is stuck we need to hide title and fix spacing.
    @include respondTo(small-down) {
      .comPageSubNavigation__title {
        display: none;
      }

      .comPageSubNavigation__selectItems {
        margin-top: 0;
      }
    }
  }
}
