/**
 * 1. Hide panel off-screen by default.
 * 2. Move panel into view.
 * 3. Show shadow only when the panel is open.
 */
@mixin appMakeViewSidePanel($width, $side: "left", $closeable: "false") {
  width: $width;

  @if ($side == "left") {
    border-right: 1px solid $app-view-side-panel-light-border-color;
    @if ($closeable == "closeable") {
      margin-left: -$width; /* [1] */
    }
    @include transition(margin-left $app-view-side-panel-transition-duration);
  } @else {
    border-left: 1px solid $app-view-side-panel-light-border-color;
    @if ($closeable == "closeable") {
      margin-right: -$width; /* [1] */
    }
    @include transition(margin-right $app-view-side-panel-transition-duration);
  }

  @include box-shadow(none); // 3

  @if ($closeable == "closeable") {
    &.is-view-side-panel-open {
      @if ($side == "left") {
        margin-left: 0; /* [2] */
      } @else {
        margin-right: 0; /* [2] */
      }
      &.appViewSidePanel--shadow {
        @include appMakeViewSidePanelShadow($side); // 3
      }
    }
  }
}

@mixin appMakeViewSidePanelShadow($side) {
  @if ($side == "left") {
    @include box-shadow(
      $app-view-side-panel-drop-shadow-distance 0 0 rgba(#000000, 0.1),
      1px 0 1px rgba(#000000, 0.2)
    );
  } @else {
    @include box-shadow(
      -$app-view-side-panel-drop-shadow-distance 0 0 rgba(#000000, 0.1),
      -1px 0 1px rgba(#000000, 0.2)
    );
  }
}
